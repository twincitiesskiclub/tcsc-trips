{# Reusable template macros #}

{# Status badge for UserSeason status #}
{% macro user_season_badge(status) %}
    {% if status == 'ACTIVE' %}
        <span class="badge bg-success">Active</span>
    {% elif status == 'PENDING_LOTTERY' %}
        <span class="badge bg-warning text-dark">Pending Lottery</span>
    {% elif status == 'DROPPED_LOTTERY' %}
        <span class="badge bg-info">Dropped (Lottery)</span>
    {% elif status == 'DROPPED_VOLUNTARY' %}
        <span class="badge bg-secondary">Dropped (Voluntary)</span>
    {% elif status == 'DROPPED_CAUSE' %}
        <span class="badge bg-danger">Dropped (Cause)</span>
    {% else %}
        <span class="badge bg-secondary">{{ status|capitalize if status else 'Unknown' }}</span>
    {% endif %}
{% endmacro %}

{# Status badge for User global status #}
{% macro user_status_badge(status) %}
    {% if status == 'ACTIVE' %}
        <span class="badge bg-success">Active</span>
    {% elif status == 'PENDING' %}
        <span class="badge bg-warning text-dark">Pending</span>
    {% elif status == 'ALUMNI' %}
        <span class="badge bg-secondary">Alumni</span>
    {% elif status == 'DROPPED' %}
        <span class="badge bg-danger">Dropped</span>
    {% else %}
        <span class="badge bg-secondary">{{ status|capitalize if status else 'Unknown' }}</span>
    {% endif %}
{% endmacro %}

{# Price display with optional range #}
{% macro price_display(price_low, price_high=None) %}
    {% if price_high is none or price_low == price_high %}
        <span>{{ price_low|format_price }}</span>
    {% else %}
        <span>{{ price_low|format_price }} - {{ price_high|format_price }}</span>
    {% endif %}
{% endmacro %}

{# Date range display #}
{% macro date_range(start_date, end_date, fmt='%b %d, %Y') %}
    <span>{{ start_date|format_date(fmt) }} to {{ end_date|format_date(fmt) }}</span>
{% endmacro %}
